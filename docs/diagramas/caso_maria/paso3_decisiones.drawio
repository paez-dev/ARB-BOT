<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0" version="29.2.1">
  <diagram id="paso3" name="Paso 3 - Sistema Toma Decisiones">
    <mxGraphModel dx="1418" dy="786" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="750" pageHeight="520" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="fondo" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="480" width="710" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="numero" parent="1" style="text;html=1;strokeColor=none;fillColor=#E65100;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=24;fontStyle=1;fontColor=#FFFFFF" value="PASO 3" vertex="1">
          <mxGeometry height="45" width="120" x="52" y="35" as="geometry" />
        </mxCell>
        <mxCell id="titulo" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" value="SISTEMA TOMA DECISIONES" vertex="1">
          <mxGeometry height="40" width="400" x="175" y="40" as="geometry" />
        </mxCell>
        <mxCell id="backend" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCC80;strokeColor=#E65100;fontSize=12;fontStyle=2" value="âš™ï¸ [Backend - Invisible para MarÃ­a]" vertex="1">
          <mxGeometry height="30" width="250" x="40" y="95" as="geometry" />
        </mxCell>
        <mxCell id="step1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E65100;fontSize=13;align=left;spacingLeft=15" value="1ï¸âƒ£ TextProcessor limpia el input" vertex="1">
          <mxGeometry height="40" width="320" x="40" y="140" as="geometry" />
        </mxCell>
        <mxCell id="step1-detail" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;fontSize=11;fontStyle=2" value="&quot;fraude acadÃ©mico falta grave gravÃ­sima&quot;" vertex="1">
          <mxGeometry height="40" width="320" x="380" y="140" as="geometry" />
        </mxCell>
        <mxCell id="step2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E65100;fontSize=13;align=left;spacingLeft=15" value="2ï¸âƒ£ RAGService genera embedding" vertex="1">
          <mxGeometry height="40" width="320" x="40" y="195" as="geometry" />
        </mxCell>
        <mxCell id="step2-detail" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#7B1FA2;fontSize=11" value="Vector de 384 dimensiones ðŸ“Š" vertex="1">
          <mxGeometry height="40" width="200" x="380" y="195" as="geometry" />
        </mxCell>
        <mxCell id="step3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E65100;fontSize=13;align=left;spacingLeft=15" value="3ï¸âƒ£ BÃºsqueda en Supabase (pgvector)" vertex="1">
          <mxGeometry height="40" width="320" x="40" y="250" as="geometry" />
        </mxCell>
        <mxCell id="step3-detail" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0288D1;fontSize=10;fontFamily=Courier New" value="SELECT text FROM vecs.arbot_documents&#xa;ORDER BY similarity LIMIT 6" vertex="1">
          <mxGeometry height="40" width="320" x="380" y="250" as="geometry" />
        </mxCell>
        <mxCell id="step4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E65100;fontSize=13;align=left;spacingLeft=15" value="4ï¸âƒ£ Resultados encontrados:" vertex="1">
          <mxGeometry height="40" width="250" x="40" y="305" as="geometry" />
        </mxCell>
        <mxCell id="result1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12" value="âœ… ArtÃ­culo 28 (Faltas Graves)" vertex="1">
          <mxGeometry height="35" width="190" x="310" y="305" as="geometry" />
        </mxCell>
        <mxCell id="result2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12" value="âœ… ArtÃ­culo 29 (Faltas GravÃ­simas)" vertex="1">
          <mxGeometry height="35" width="200" x="510" y="305" as="geometry" />
        </mxCell>
        <mxCell id="result3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;fontSize=12" value="âœ… ArtÃ­culo 45 (Procedimiento)" vertex="1">
          <mxGeometry height="35" width="200" x="310" y="350" as="geometry" />
        </mxCell>
        <mxCell id="step5" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E65100;fontSize=13;align=left;spacingLeft=15;fontStyle=1" value="5ï¸âƒ£ DECISIÃ“N:" vertex="1">
          <mxGeometry height="45" width="140" x="40" y="410" as="geometry" />
        </mxCell>
        <mxCell id="decision" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#388E3C;strokeColor=#2E7D32;fontSize=16;fontStyle=1;fontColor=#FFFFFF" value="âœ… HAY CONTEXTO RELEVANTE â†’ Enviar a LLM" vertex="1">
          <mxGeometry height="55" width="420" x="200" y="405" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#E65100;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="470" as="sourcePoint" />
            <mxPoint x="690" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="next" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=3" value="â†’ ContinÃºa en PASO 4" vertex="1">
          <mxGeometry height="25" width="160" x="530" y="472" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

